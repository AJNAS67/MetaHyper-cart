<%- include('./partials/userHeader.ejs') %>

<div class="container mt-5 pt-5">
  <div class="row">
    <div class="col-lg-4">
      <h2 class="mt-5 mb-5">My Profile</h2>
      <div class="blog_right_sidebar">
        <aside class="single_sidebar_widget author_widget">
          <img
            class="author_img rounded-circle w-25"
            src="https://uxwing.com/wp-content/themes/uxwing/download/peoples-avatars/user-profile-icon.png"
            alt=""
          />
          <h4>Ajns</h4>
          <div class="mt-4 mb-4">
            <a href="/shoping-cart" class="genric-btn primary w-50 m-1">Cart</a><br />
            <a href="/viewOrders" class="genric-btn primary w-50 m-1">My Orders</a
            ><br />
            <a href="/wishlist" class="genric-btn primary w-50 m-1">Wishlist</a
            ><br />
          </div>
          <div class="mt-4">
            <!-- <a href="" class="genric-btn success">Edit</a> -->
            <a href="/logout" class="genric-btn danger">Logout</a>
          </div>
        </aside>
      </div>
    </div>
    <p><%=user.address%></p>
    <div class="col-lg-8">
      <h2 class="mt-5 mb-5">My Addresses</h2>
      <div class="row">
        <div class="col-sm-6">
          <div class="card">
            <a href="/addAddress" class="btn btn-primary">Add New</a>
          </div>
        </div>
      </div>
    </div>
    <div class="row mt-2 mb-2" id="myAddress">
      <div class="col-sm-12">
        <div class="card">
          <div class="card-body">
            <h5 class="d-flex align-items-center">My address</h5>
            <div class="row" id="addressList">
              <% userDetail.address.forEach((myAddress,index)=>{%>
              <div class="col-md-6 mb-2" id="address-<%= index %>">
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title">
                      <i class="fa-solid fa-location-dot"></i> <%=
                      myAddress.firstName %>
                    </h5>
                    <address class="card-text">
                      <%= myAddress.firstName +' '+ myAddress.lastName %>, <%=
                      myAddress.homeaddress %>, <%=myAddress.city %>,
                      <%=myAddress.state %>, <br />
                      pincode: <%= myAddress.zipcode %><br />
                      ph:<%= myAddress.zipcode %>
                    </address>
                    <button class="btn btn-outline-dark">Edit</button>
                    <button
                      class="float-right btn btn-outline-secondary"
                      onclick="removeAddress('<%=index%>')"
                    >
                      <i class="fa-solid fa-trash-can"></i>
                    </button>
                  </div>
                </div>
              </div>
              <%}) %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
  crossorigin="anonymous"
></script>

<%- include('./partials/userFooter.ejs') %>
